/* ════════════════════════════════════════════════════════
   LEON BRAIN DASHBOARD — JARVIS HUD
   Brain is HERO. Everything else: edges, minimal, transparent.
   ════════════════════════════════════════════════════════ */

:root {
    --cyan:        #00d4ff;
    --cyan-dim:    #0891b2;
    --orange:      #ff6b35;
    --purple:      #a855f7;
    --green:       #22ff66;
    --red:         #ff4466;
    --gold:        #fbbf24;

    --bg-deep:     #050510;
    --bg-panel:    rgba(5, 8, 22, 0.75);
    --border:      rgba(0, 212, 255, 0.1);
    --text:        #c8d6e5;
    --text-bright: #e8f0fe;
    --text-dim:    #4a5568;
    --text-muted:  #2d3748;

    --font-display: 'Orbitron', monospace;
    --font-body:    'Rajdhani', sans-serif;
    --font-mono:    'JetBrains Mono', 'Fira Code', monospace;
    --transition:   0.25s cubic-bezier(0.4, 0, 0.2, 1);
}

*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
html { font-size: 16px; -webkit-font-smoothing: antialiased; }
body {
    background: var(--bg-deep);
    color: var(--text);
    font-family: var(--font-body);
    overflow: hidden;
    min-height: 100vh;
}
/* Subtle radial vignette */
body::after {
    content: '';
    position: fixed;
    inset: 0;
    z-index: 0;
    background: radial-gradient(ellipse at center, transparent 30%, rgba(2,8,18,0.7) 100%);
    pointer-events: none;
}

/* ── Brain Container — FULL SCREEN ───────────────────── */
#brain-container {
    position: fixed;
    inset: 0;
    z-index: 1;
    cursor: crosshair;
}

/* ── HUD Overlay ─────────────────────────────────────── */
#hud {
    position: fixed;
    inset: 0;
    z-index: 10;
    pointer-events: none;
}
#hud > * { pointer-events: auto; }

/* ── Top Bar — paper thin ────────────────────────────── */
#top-bar {
    position: absolute;
    top: 0; left: 0; right: 0;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 16px;
    background: linear-gradient(180deg, rgba(5,5,16,0.85) 0%, transparent 100%);
    z-index: 20;
}

.logo {
    display: flex;
    align-items: center;
    gap: 8px;
}
.logo-icon {
    font-size: 18px;
    color: var(--cyan);
    filter: drop-shadow(0 0 6px rgba(0,212,255,0.5));
    animation: logoPulse 4s ease-in-out infinite;
}
@keyframes logoPulse {
    0%, 100% { filter: drop-shadow(0 0 6px rgba(0,212,255,0.5)); }
    50% { filter: drop-shadow(0 0 14px rgba(0,212,255,0.8)); }
}
.logo-text {
    font-family: var(--font-display);
    font-size: 16px;
    font-weight: 900;
    color: var(--cyan);
    letter-spacing: 8px;
    text-shadow: 0 0 15px rgba(0,212,255,0.4);
}

/* ── HUD Chips (top bar stats) ───────────────────────── */
.top-stats {
    display: flex;
    gap: 12px;
}
.hud-chip {
    display: flex;
    align-items: center;
    gap: 5px;
    font-family: var(--font-display);
    font-size: 9px;
    letter-spacing: 1px;
}
.hud-label {
    color: var(--text-muted);
    font-weight: 700;
}
.hud-val {
    color: var(--cyan);
    font-weight: 700;
    text-shadow: 0 0 6px rgba(0,212,255,0.2);
}
.voice-chip {
    color: var(--text-dim);
    font-size: 8px;
    letter-spacing: 2px;
}
.voice-chip.active {
    color: var(--green);
    text-shadow: 0 0 8px rgba(34,255,102,0.3);
}

.top-right {
    display: flex;
    align-items: center;
    gap: 14px;
}
.indicator {
    display: flex;
    align-items: center;
    gap: 6px;
    font-family: var(--font-display);
    font-size: 9px;
    font-weight: 700;
    letter-spacing: 2px;
    color: var(--green);
}
.indicator.disconnected { color: var(--red); }
.indicator.reconnecting { color: var(--gold); }

.dot {
    width: 6px; height: 6px;
    border-radius: 50%;
    background: var(--green);
}
.dot.pulse {
    animation: dotPulse 2s ease-in-out infinite;
    box-shadow: 0 0 6px var(--green);
}
.dot.disconnected { background: var(--red); box-shadow: 0 0 6px var(--red); animation: none; }
.dot.reconnecting { background: var(--gold); box-shadow: 0 0 6px var(--gold); animation: dotPulse 0.8s ease-in-out infinite; }
@keyframes dotPulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.3; } }

/* ── Left Strip — gauges + left brain status ─────────── */
#left-strip {
    position: absolute;
    left: 10px;
    top: 50%;
    transform: translateY(-50%);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 14px;
    padding: 14px 8px;
    background: var(--bg-panel);
    border: 1px solid var(--border);
    border-radius: 8px;
    backdrop-filter: blur(12px);
    border-left: 2px solid var(--cyan);
    width: 72px;
}

/* ── Right Strip — agents + right brain status ───────── */
#right-strip {
    position: absolute;
    right: 10px;
    top: 50%;
    transform: translateY(-50%);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;
    padding: 14px 8px;
    background: var(--bg-panel);
    border: 1px solid var(--border);
    border-radius: 8px;
    backdrop-filter: blur(12px);
    border-right: 2px solid var(--cyan);
    width: 72px;
}

/* ── Strip shared styles ─────────────────────────────── */
.strip-section {
    text-align: center;
    width: 100%;
}
.strip-label {
    font-family: var(--font-display);
    font-size: 7px;
    font-weight: 700;
    letter-spacing: 1.5px;
    margin-bottom: 3px;
}
.strip-label.cyan { color: var(--cyan); }
.strip-label.orange { color: var(--cyan); }

.strip-status {
    font-family: var(--font-display);
    font-size: 7px;
    font-weight: 700;
    letter-spacing: 1px;
}
.strip-status.active { color: var(--green); text-shadow: 0 0 6px rgba(34,255,102,0.3); }
.strip-status.idle { color: var(--text-dim); }

.strip-big {
    font-family: var(--font-display);
    font-size: 20px;
    font-weight: 900;
    color: var(--cyan);
    text-shadow: 0 0 10px rgba(0,212,255,0.3);
    line-height: 1;
}

/* ── Strip Gauges ────────────────────────────────────── */
.strip-gauge {
    position: relative;
    width: 48px;
    height: 48px;
    display: flex;
    flex-direction: column;
    align-items: center;
}
.strip-gauge svg {
    width: 48px;
    height: 48px;
    transform: rotate(-90deg);
}
.strip-gauge .gauge-bg {
    fill: none;
    stroke: rgba(255,255,255,0.04);
    stroke-width: 3;
}
.strip-gauge .gauge-fill {
    fill: none;
    stroke-width: 3;
    stroke-linecap: round;
    transition: stroke-dashoffset 1s cubic-bezier(0.4,0,0.2,1), stroke 0.5s ease;
}
.gauge-fill.cpu { stroke: var(--cyan); filter: drop-shadow(0 0 3px rgba(0,212,255,0.4)); }
.gauge-fill.mem { stroke: var(--purple); filter: drop-shadow(0 0 3px rgba(168,85,247,0.4)); }
.gauge-fill.disk { stroke: var(--orange); filter: drop-shadow(0 0 3px rgba(255,107,53,0.4)); }
.gauge-fill.warn { stroke: var(--gold) !important; }
.gauge-fill.critical { stroke: var(--red) !important; }

.strip-gauge .gauge-value {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -55%);
    font-family: var(--font-display);
    font-size: 9px;
    font-weight: 700;
    color: var(--text-bright);
}
.strip-gauge .gauge-label {
    font-family: var(--font-display);
    font-size: 7px;
    color: var(--text-dim);
    letter-spacing: 1px;
    margin-top: -2px;
}

/* ── Strip Agents (compact list in right strip) ──────── */
.strip-agents {
    width: 100%;
    max-height: 120px;
    overflow-y: auto;
}
.strip-agents .agent-card {
    font-size: 8px;
    padding: 4px;
    margin-bottom: 3px;
    border-left: 2px solid var(--green);
    background: rgba(34,255,102,0.04);
    border-radius: 3px;
}
.strip-agents .agent-card .agent-desc {
    font-size: 8px;
    color: var(--text);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    display: block;
}
.strip-agents .agent-card .agent-elapsed {
    font-family: var(--font-mono);
    font-size: 7px;
    color: var(--green);
}
.strip-agents .agents-empty {
    font-size: 7px;
    color: var(--text-muted);
    text-align: center;
    letter-spacing: 1px;
    font-family: var(--font-display);
}

/* ── Chat Strip — bottom, slim ───────────────────────── */
#chat-strip {
    position: absolute;
    bottom: 56px;
    left: 90px;
    right: 90px;
    max-height: 160px;
    background: var(--bg-panel);
    border: 1px solid var(--border);
    border-radius: 8px;
    backdrop-filter: blur(12px);
    overflow: hidden;
}

#activity-feed {
    max-height: 160px;
    overflow-y: auto;
    padding: 8px 12px;
    scroll-behavior: smooth;
}

.feed-item {
    font-size: 11px;
    padding: 3px 6px;
    margin-bottom: 1px;
    border-radius: 3px;
    animation: feedSlideIn 0.2s ease;
    line-height: 1.5;
    word-break: break-word;
}
.feed-item:hover { background: rgba(255,255,255,0.02); }
.feed-item.feed-command {
    color: var(--cyan);
    font-weight: 600;
    border-left: 2px solid rgba(0,212,255,0.3);
    padding-left: 8px;
}
.feed-item.feed-response {
    color: var(--text);
    padding-left: 12px;
    border-left: 2px solid rgba(0,212,255,0.08);
    white-space: pre-wrap;
}
.feed-item.feed-system { color: var(--text-dim); font-size: 10px; }
.feed-item.feed-agent-ok { color: var(--green); border-left: 2px solid rgba(34,255,102,0.2); }
.feed-item.feed-agent-fail { color: var(--orange); border-left: 2px solid rgba(255,107,53,0.2); }
.feed-item.feed-local { color: var(--cyan); }
@keyframes feedSlideIn { from { opacity: 0; transform: translateY(4px); } to { opacity: 1; transform: translateY(0); } }

.feed-time {
    font-family: var(--font-mono);
    font-size: 9px;
    color: var(--text-muted);
    margin-right: 6px;
}

/* ── Command Bar — bottom center, slim ───────────────── */
#command-bar {
    position: fixed;
    bottom: 10px;
    left: 50%;
    transform: translateX(-50%);
    width: 520px;
    max-width: calc(100vw - 200px);
    height: 40px;
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 0 14px;
    background: rgba(5,5,16,0.92);
    border: 1px solid rgba(0,212,255,0.2);
    border-radius: 20px;
    backdrop-filter: blur(16px);
    box-shadow: 0 0 20px rgba(0,212,255,0.08);
    z-index: 1000;
    pointer-events: auto;
    transition: border-color var(--transition), box-shadow var(--transition);
}
#command-bar:focus-within {
    border-color: rgba(0,212,255,0.45);
    box-shadow: 0 0 30px rgba(0,212,255,0.15);
}

.command-prefix {
    font-size: 14px;
    color: var(--cyan);
    filter: drop-shadow(0 0 4px rgba(0,212,255,0.3));
    opacity: 0.7;
}

#command-input {
    flex: 1;
    background: transparent;
    border: none;
    outline: none;
    color: var(--text-bright);
    font-family: var(--font-body);
    font-size: 14px;
    font-weight: 500;
    letter-spacing: 0.3px;
    caret-color: var(--cyan);
}
#command-input::placeholder { color: var(--text-muted); font-weight: 400; }

#command-send {
    background: none;
    border: none;
    color: var(--cyan);
    font-size: 16px;
    cursor: pointer;
    padding: 4px 8px;
    opacity: 0.6;
    transition: opacity var(--transition);
}
#command-send:hover { opacity: 1; }

.command-bar-loading {
    position: absolute;
    bottom: 0;
    left: 14px; right: 14px;
    height: 2px;
    border-radius: 1px;
    overflow: hidden;
    opacity: 0;
    transition: opacity 0.3s;
}
.command-bar-loading.active { opacity: 1; }
.command-bar-loading::after {
    content: '';
    position: absolute;
    left: 0; top: 0;
    height: 100%;
    width: 40%;
    background: linear-gradient(90deg, transparent, var(--cyan), transparent);
    animation: loadingSlide 1.2s ease-in-out infinite;
}
@keyframes loadingSlide { 0% { transform: translateX(-100%); } 100% { transform: translateX(350%); } }

/* ── Scan Lines ──────────────────────────────────────── */
.scanlines {
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: 100;
    background: repeating-linear-gradient(0deg, transparent, transparent 3px, rgba(0,0,0,0.012) 3px, rgba(0,0,0,0.012) 6px);
    mix-blend-mode: multiply;
}

/* ── Scrollbar ───────────────────────────────────────── */
::-webkit-scrollbar { width: 3px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: rgba(0,212,255,0.12); border-radius: 2px; }

/* ── Auth Overlay ────────────────────────────────────── */
#auth-overlay { backdrop-filter: blur(16px); }
#auth-overlay input[type="text"] {
    width: 300px;
    padding: 12px 16px;
    background: rgba(0,212,255,0.05);
    border: 1px solid rgba(0,212,255,0.2);
    border-radius: 8px;
    color: var(--cyan);
    font-family: var(--font-mono);
    font-size: 13px;
    outline: none;
    text-align: center;
    transition: all var(--transition);
}
#auth-overlay input[type="text"]:focus {
    border-color: rgba(0,212,255,0.5);
    box-shadow: 0 0 15px rgba(0,212,255,0.1);
}
#auth-overlay button {
    margin-top: 16px;
    padding: 10px 36px;
    background: rgba(0,212,255,0.08);
    border: 1px solid rgba(0,212,255,0.3);
    border-radius: 8px;
    color: var(--cyan);
    font-family: var(--font-display);
    font-size: 11px;
    font-weight: 700;
    cursor: pointer;
    letter-spacing: 3px;
    transition: all var(--transition);
}
#auth-overlay button:hover {
    background: rgba(0,212,255,0.15);
    border-color: rgba(0,212,255,0.6);
    color: #fff;
}

/* ── Accessibility ───────────────────────────────────── */
:focus-visible { outline: 2px solid var(--cyan); outline-offset: 2px; }
#command-input:focus-visible, #auth-token-input:focus-visible { outline: none; }
@media (prefers-reduced-motion: reduce) {
    *, *::before, *::after { animation-duration: 0.01ms !important; transition-duration: 0.01ms !important; }
    .scanlines { display: none; }
}

/* ── Responsive ──────────────────────────────────────── */
@media (max-width: 900px) {
    #left-strip, #right-strip { width: 56px; padding: 10px 5px; }
    .strip-gauge { width: 38px; height: 38px; }
    .strip-gauge svg { width: 38px; height: 38px; }
    .strip-gauge .gauge-value { font-size: 8px; }
    #chat-strip { left: 68px; right: 68px; }
    #command-bar { max-width: calc(100vw - 140px); }
}

@media (max-width: 600px) {
    #left-strip, #right-strip { display: none; }
    #chat-strip { left: 8px; right: 8px; bottom: 50px; max-height: 120px; }
    #command-bar { width: calc(100vw - 16px); max-width: none; bottom: 6px; height: 36px; border-radius: 18px; }
    #top-bar { height: 32px; padding: 0 10px; }
    .logo-text { font-size: 13px; letter-spacing: 5px; }
    .top-stats { gap: 6px; }
    .hud-chip { font-size: 7px; }
}
