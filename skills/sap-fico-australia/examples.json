{
  "description": "Few-shot examples to calibrate SAP FICO Expert behavior for Australian context",
  "version": "1.0.0",
  "examples": [
    {
      "id": "config-gst-tax-codes",
      "category": "Australian Tax Configuration",
      "difficulty": "Intermediate",
      "user": "How do I configure GST tax codes in SAP for Australian business?",
      "assistant": "**T-code**: `/nFTXP` — Tax Configuration\n\n**Tables**: T007A (tax codes), A003 (tax condition records), KONP (condition records), J_1BNFLIN (GST line items)\n\n**Key Configuration**:\n- `FTXP` → Tax codes configuration per country AU\n- `OB40` → Tax calculation procedure TAXAU (Australian tax procedure)\n- SPRO: Financial Accounting → Financial Accounting Global Settings → Tax on Sales/Purchases → Basic Settings → Define Tax Codes for Sales/Purchases\n\n**Process Steps**:\n1. Configure tax procedure TAXAU in `/nOB40` (condition types MWST, MWAS, etc.)\n2. Create tax codes in `/nFTXP`:\n   - **A1**: GST 10% on purchases (input tax recoverable)\n   - **A2**: GST 10% on sales (output tax)\n   - **E1**: GST-Free purchases (exports, basic food)\n   - **E2**: GST-Free sales\n   - **N1**: Input taxed purchases (no GST recovery)\n3. Configure account determination in `/nOB40` → assign GL accounts for GST collected/paid\n4. Set up condition records in `/nVK11` for automatic tax determination\n5. Test tax calculation in `/nVA01` (sales order) and `/nME21N` (purchase order)\n6. Verify BAS reporting functionality via `/nJ1BNFE` (GST reconciliation)\n\n**OSS Notes**: Check OSS for \"Australian GST configuration\" and Note **2576890** (localization updates)\n\n**Integrations**:\n- **FI-SD**: Sales orders automatically pick up GST based on customer/material combination\n- **FI-MM**: Purchase orders apply input tax codes based on vendor setup\n- **FI-GL**: Tax postings automatically create GL entries to GST collected/paid accounts\n- **CO**: GST amounts excluded from cost centre postings (non-recoverable input tax exception)\n\n**S/4HANA**: Tax engine enhanced in S/4HANA with real-time tax calculation. Fiori app **Manage Tax Codes** (F3846) available. BAS reporting improved with app **Australian BAS Report** (F4512).\n\n**Australian Compliance**:\n- Must configure ABN validation in vendor/customer master data\n- RCTI (Reverse Charge Tax Invoice) setup for specific industries (scrap metal, building supplies)\n- Luxury Car Tax (LCT) configuration if applicable\n- Wine Equalisation Tax (WET) for wine businesses"
    },
    {
      "id": "config-australian-payment-methods",
      "category": "Payment Configuration",
      "difficulty": "Intermediate", 
      "user": "How do I set up Australian payment methods in F110?",
      "assistant": "**T-code**: `/nFBZP` — Payment Methods Configuration\n\n**Tables**: T012 (house banks), T012K (bank accounts), REGUH (payment data), T042Z (payment methods)\n\n**Key Configuration**:\n- `FBZP` → Payment methods per company code\n- `FBZ1` → Payment method configuration (EFT, cheque, BPAY)\n- SPRO: Financial Accounting → Accounts Payable → Business Transactions → Outgoing Payments → Automatic Outgoing Payments → Payment Method/Bank Selection\n\n**Process Steps**:\n1. Configure house banks in `/nFI12`:\n   - Bank country: AU\n   - Bank key: 6-digit BSB (e.g., 062000 for CBA)\n   - Account number: Australian format\n2. Set up payment methods in `/nFBZP`:\n   - **E**: EFT (Electronic Funds Transfer) - most common\n   - **B**: BPAY for utility payments  \n   - **C**: Cheques (still used for some suppliers)\n3. Configure payment method details in `/nFBZ1`:\n   - EFT: Min/max amounts, file format (CEMTEX, Direct Entry)\n   - Set up Australian bank file formats (NAB, CBA, ANZ, Westpac)\n4. Define bank determination rules based on vendor account details\n5. Configure DME (Data Medium Exchange) for bank file generation\n6. Set up payment advice formats (remittance advice)\n7. Test payment run with small vendor group\n8. Verify bank file format matches bank requirements\n\n**OSS Notes**: Check OSS for \"Australian payment formats\" and Note **1879909** (Australian bank formats)\n\n**Integrations**:\n- **FI-GL**: Payment postings create automatic GL entries (vendor clearing, bank account)\n- **FI-BL**: Bank statement import for automatic reconciliation  \n- **FI-AP**: Vendor master must have correct payment method and bank details\n- **CO**: Cost centre assignments maintained during payment clearing\n\n**S/4HANA**: Payment methods configuration remains same, but enhanced monitoring via Fiori apps. **Manage Payment Methods** (F0766) simplifies setup. Bank Communication Management (BCM) available for better bank integration.\n\n**Australian Compliance**:\n- ABN must be validated in vendor master for payment processing\n- Withholding tax calculations for foreign vendors (PAYG)\n- Bank file formats must comply with CEMTEX or Direct Entry standards\n- Payment summaries for contractors (annual PAYG summary)"
    },
    {
      "id": "troubleshoot-gst-posting-error",
      "category": "Australian Tax Troubleshooting",
      "difficulty": "Advanced",
      "user": "I'm getting error when posting a vendor invoice with GST. The system says 'Tax code A1 not valid for country AU'. How do I fix this?",
      "assistant": "**T-code**: `/nOB40` — Tax Configuration Check\n\n**Tables**: T007A (tax codes), T007S (tax code assignments), T005 (countries), MWDAT (tax amounts)\n\n**Diagnostic**:\nError indicates tax code A1 is not properly configured for country Australia (AU). The tax code exists but country assignment is missing or incorrect.\n\n**Resolution Steps**:\n1. Check tax code setup in `/nFTXP` → verify A1 exists and is active\n2. Go to `/nOB40` → Tax Calculation Procedure → check TAXAU procedure is assigned to country AU\n3. Verify tax code A1 is assigned to procedure TAXAU:\n   - Step: MWST (input tax)\n   - Condition type: MWST \n   - Account key: VST (input tax)\n4. Check GL account assignment in `/nOB40` → Assign Tax Codes → verify account determination:\n   - Input tax account (e.g., 224000 - GST Recoverable)\n   - Tax expense account for non-recoverable portions\n5. Verify vendor master data (`/nXK03`) has country AU and tax category configured\n6. Test with small amount invoice in `/nFB60`\n7. If error persists, check transaction data for correct company code and tax jurisdiction\n\n**OSS Notes**: Check Note **356576** (tax code configuration errors) and **2434870** (Australian tax updates)\n\n**Integrations**:\n- **FI-MM**: Purchase orders must have correct tax codes for automatic invoice verification\n- **FI-AP**: Vendor master tax category affects automatic tax code determination\n- **FI-GL**: Tax postings require proper GL account determination setup\n- **FI-SD**: If credit memo, check customer tax setup doesn't conflict\n\n**S/4HANA**: Enhanced tax error messages provide better guidance. Use Fiori app **Tax Configuration Monitor** (F3847) to validate setup. Tax calculation engine provides real-time validation.\n\n**Australian Compliance**:\n- Verify ABN status of vendor - invalid ABN may cause tax code issues\n- Check if RCTI (Reverse Charge Tax Invoice) applies - different tax treatment\n- Ensure GST registration status matches between vendor setup and tax code usage\n- For imports: verify customs duty and GST interaction in tax calculation"
    },
    {
      "id": "concept-australian-withholding-tax",
      "category": "Australian Tax Concepts", 
      "difficulty": "Advanced",
      "user": "How does PAYG withholding tax work in SAP for Australian contractors?",
      "assistant": "**T-codes**: `/nFI10` (Withholding Tax Configuration) — `/nFBL1N` (Vendor Line Items) — `/nS_ALR_87012357` (WHT Report)\n\n**Tables**: T059Z (withholding tax types), T059P (withholding tax percentage), BSEG (line items), WITH_ITEM (WHT line items)\n\n**Configuration**: `/nOB58` (withholding tax codes) — `/nOBB8` (WHT account assignment)\n\n**How PAYG Withholding Works**:\n\n**Setup Process**:\n1. **Configure WHT types** in `/nFI10`:\n   - **42**: PAYG Withholding for contractors (no ABN)\n   - **47**: PAYG Withholding for foreign residents\n   - Set percentage rates (47% for no ABN, varies for foreign residents)\n2. **Vendor Master Setup** (`/nXK02`):\n   - Withholding tax tab: assign relevant WHT types\n   - Check \"Subject to withholding tax\" indicator\n   - ABN status determines WHT requirement\n3. **Account Determination** (`/nOBB8`):\n   - WHT payable account (e.g., 241000 - PAYG Withholding Payable)\n   - Separate accounts for different WHT types\n\n**Processing**:\n1. **Invoice Posting** (`/nFB60`): System automatically calculates withholding tax\n2. **Payment Processing** (`/nF110`): Net amount paid to vendor, WHT held in payable account\n3. **BAS Reporting**: WHT amounts included in quarterly BAS submission\n4. **Annual Reporting**: Payment summaries generated for contractors\n\n**Key Business Rules**:\n- **No ABN**: 47% withholding on labour/services\n- **Valid ABN**: No withholding (normal trade)\n- **Foreign Residents**: Various rates depending on tax treaty\n- **Exemptions**: Some payments exempt (materials, reimbursements)\n\n**OSS Notes**: Check Note **2847291** (Australian withholding tax updates)\n\n**Integrations**:\n- **FI-AP**: Vendor payments automatically calculate WHT based on invoice type\n- **FI-GL**: WHT creates separate GL postings to payable accounts\n- **FI-HR**: Integration for employee-related withholding (different setup)\n- **CO**: Cost centres charged gross amount, WHT handled in FI\n\n**S/4HANA**: Enhanced WHT reporting via Fiori apps. **Withholding Tax Reports** (F4203) provides better analytics. Real-time WHT calculation in Universal Journal.\n\n**Australian Compliance**:\n- ABN validation critical - invalid ABN triggers withholding\n- TFN declaration forms required for some contractor types\n- Payment summaries must be issued by 14 August\n- Electronic lodgement through STP (Single Touch Payroll) for some scenarios"
    },
    {
      "id": "process-australian-bank-reconciliation",
      "category": "Australian Banking Process",
      "difficulty": "Intermediate",
      "user": "How do I set up automatic bank reconciliation for Australian bank statements?",
      "assistant": "**T-codes**: `/nFF67` (Bank Statement Processing) — `/nFEBAN` (Electronic Bank Statement) — `/nFF7A` (Bank Reconciliation)\n\n**Tables**: FEBKO (bank statement header), FEBEP (bank statement items), T012K (bank accounts), BSIS (GL balances)\n\n**Configuration**: `/nOT83` (Bank Statement format) — `/nOT40` (External transaction codes)\n\n**Setup Steps**:\n1. **Configure bank master data** (`/nFI12`):\n   - Australian bank: BSB (6 digits) + Account number\n   - Major banks: CBA (06), NAB (08), ANZ (01), Westpac (03)\n   - Set up GL account for bank account\n\n2. **Electronic format setup** (`/nOT83`):\n   - Configure BAI2 format (common in Australia)\n   - Map Australian transaction codes to SAP posting rules\n   - Set up file import parameters\n\n3. **Transaction code mapping** (`/nOT40`):\n   - Map bank codes to SAP transaction types:\n   - **CHQ**: Cheque payments → posting rule 0001\n   - **EFT**: Electronic transfers → posting rule 0002\n   - **DEP**: Deposits → posting rule 0003\n   - **FEE**: Bank fees → posting rule 0004\n\n4. **Automatic matching rules** (`/nFF67`):\n   - Amount tolerance: ±$0.05 typical\n   - Reference number matching (invoice numbers)\n   - Payment advice matching\n\n5. **GL account assignment** for bank fees, charges, interest\n\n6. **Test import** with sample bank file\n\n7. **Set up batch job** for daily/weekly processing\n\n**Processing Flow**:\n1. **Download bank file** from internet banking\n2. **Import via `/nFEBAN`** or automatic file pickup\n3. **Auto-matching** attempts to clear open items\n4. **Manual clearing** (`/nFF67`) for unmatched items\n5. **Post differences** (bank fees, interest) to GL\n\n**OSS Notes**: Check Note **1806681** (bank statement processing improvements)\n\n**Integrations**:\n- **FI-AP**: Vendor payments automatically matched via payment advice\n- **FI-AR**: Customer receipts matched via bank reference or amount\n- **FI-GL**: Bank charges posted automatically to expense accounts\n- **Cash Management**: Real-time cash position updates\n\n**S/4HANA**: Enhanced bank reconciliation with machine learning matching. Fiori apps **Bank Account Management** (F0716) and **Process Bank Statements** (F0717). Real-time cash visibility through embedded analytics.\n\n**Australian Compliance**:\n- Bank file formats must comply with Australian banking standards\n- GST on bank fees handled automatically through tax codes\n- Foreign exchange gains/losses for multi-currency accounts\n- Regulatory reporting for cash transactions over $10,000 (AML/CTF compliance)"
    }
  ]
}